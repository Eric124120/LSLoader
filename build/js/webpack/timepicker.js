/*combojs*//*combojs*/webpackJsonp([1],[function(e,t,i){var n=i(2);i(1);var s=1,u=23,r=1,d=50,h=10;!function(e,t,i){e.define("timePicker",{options:{title:"选择出行时间",delay:15,day:{len:7,filter:[],format:"M月d日"}},_create:function(){this.selectedDayIndex=0,this.selectedHourIndex=0,this.selectedMinuteIndex=0,this.days=[],this.hours=[],this.minutes=[]},_init:function(){this._initDays();var e=+new Date,t=new Date(e+this._options.delay*n.MINUTE_TIMESTAMP),i=t.getHours();this._initHours(i),this.$picker=this.$el.picker({data:[this.days,this.hours,this.minutes],title:this._options.title}),this._bindEvent()},_initDays:function(){this.days=this._genDays()},_genDays:function(){for(var e=[],t=this._options.day,i=+n.getZeroDate(new Date),u=t.format,r=0;r<t.len;r+=s){var d=i+r*n.DAY_TIMESTAMP;t.filter&&r<t.filter.length?e.push({value:d,text:t.filter[r]}):e.push({value:d,text:n.format(new Date(d),u)})}return e},_initHours:function(e){this.hours=this._genHours(e)},_genHours:function(e){var t=[];0===this.selectedDayIndex&&t.push({value:"now",text:"现在"});for(var i=e;u>=i;i+=r)t.push({value:i,text:i+"点"});return t},_initMinutes:function(e){e===!1?this.minutes=[]:this.minutes=this._genMinutes(e)},_genMinutes:function(e){var t=[];e%=60;for(var i=e;d>=i;i+=h)t.push({value:i,text:this._formatNum(i)+"分"});return t},_formatNum:function(e){return(""+e).length>1?e:"0"+e},_bindEvent:function(){function e(){var e,i;return 0===t.selectedDayIndex&&0===t.selectedHourIndex?(e=+new Date,i=t.hours[0].text):(e=t.days[t.selectedDayIndex].value+t.hours[t.selectedHourIndex].value*n.HOUR_TIMESTAMP+t.minutes[t.selectedMinuteIndex].value*n.MINUTE_TIMESTAMP,i=t.days[t.selectedDayIndex].text+" "+t.hours[t.selectedHourIndex].text+":"+t.minutes[t.selectedMinuteIndex].text),{selectedTime:e,selectedText:i}}var t=this;this.$picker.on("picker.select",function(i,n,s){t.selectedDayIndex=s[0],t.selectedHourIndex=s[1],t.selectedMinuteIndex=s[2];var u=e();t.trigger("timePicker.select",u.selectedTime,u.selectedText)}),this.$picker.on("picker.cancel",function(){t.trigger("timePicker.cancel")}),this.$picker.on("picker.change",function(i,s,u){var r=+new Date,d=new Date(r+t._options.delay*n.MINUTE_TIMESTAMP);0===s?(t.selectedDayIndex=u,t._handleHourAndMinute(d)):1===s?(t.selectedHourIndex=u,t._handleMinute(d)):t.selectedMinuteIndex=u;var h=e();t.trigger("timePicker.change",h.selectedTime,h.selectedText)})},_roundMinute:function(e){return Math.ceil(e/h)*h},_handleHourAndMinute:function(e){var t=0,i=0;if(this.days[this.selectedDayIndex].value-+e<0){this.days[this.selectedDayIndex].value-+e<-n.DAY_TIMESTAMP?t=24:(t=e.getHours(),e.getMinutes()>51&&(t+=1)),this._initHours(t);var s=this.$picker.picker("refill",this.hours,1);this.selectedHourIndex=s;var u=this.hours[s].value;u===t&&(i=this._roundMinute(e.getMinutes())),0===this.selectedDayIndex&&0===s&&(i=!1),this._initMinutes(i),this.selectedMinuteIndex=this.$picker.picker("refill",this.minutes,2)}else this._initHours(t),this.selectedHourIndex=this.$picker.picker("refill",this.hours,1),this._initMinutes(i),this.selectedMinuteIndex=this.$picker.picker("refill",this.minutes,2)},_handleMinute:function(e){if(this.days[this.selectedDayIndex].value-+e<0){var t=0,i=e.getHours();this.hours[this.selectedHourIndex].value===i&&(t=this._roundMinute(e.getMinutes())),0===this.selectedDayIndex&&0===this.selectedHourIndex&&(t=!1),this._initMinutes(t),this.selectedMinuteIndex=this.$picker.picker("refill",this.minutes,2)}},show:function(){this.$picker.picker("show",function(){var e=+new Date,t=new Date(e+this._options.delay*n.MINUTE_TIMESTAMP);this._initDays(),this._handleHourAndMinute(t)}.bind(this))}})}(gmu,gmu.$)}]);